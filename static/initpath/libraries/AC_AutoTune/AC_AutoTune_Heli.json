{
    "test_init": {
        "input_type": [
            [
                "sweep",
                "dwell"
            ],
            0
        ],
        "start_angles": [
            [
                "vector3f_desired_yaw_cd",
                "vector3f_pitch_cd",
                "vector3f_roll_cd"
            ],
            0
        ],
        "resp_type": [
            [
                "rate",
                "angle"
            ],
            0
        ],
        "freq_resp_input": [
            [
                "motor",
                "target"
            ],
            0
        ],
        "filter_freq": [
            [
                "next_test_freq",
                "sweep_tgt_ph180_freq",
                "curr_data_freq",
                "min_sweep_freq",
                "m_2pi"
            ],
            1
        ],
        "stop_freq": [
            [
                "max_sweep_freq"
            ],
            0
        ],
        "calc_type": [
            [
                "rate",
                "drb",
                "angle"
            ],
            0
        ]
    },
    "test_run": {
        "counter": [
            [
                "autotune_success_count"
            ],
            0
        ],
        "mode": [
            [
                "failed"
            ],
            0
        ],
        "step": [
            [
                "update_gains"
            ],
            0
        ]
    },
    "do_gcs_announcements": {
        "announce_time": [
            [
                "millis"
            ],
            1
        ]
    },
    "do_post_test_gcs_announcements": {
        "tune_sp": [
            [
                "tune_pitch_sp",
                "tune_yaw_sp",
                "tune_roll_sp"
            ],
            0
        ],
        "tune_rff": [
            [
                "tune_pitch_rff",
                "tune_roll_rff",
                "tune_yaw_rff"
            ],
            0
        ],
        "tune_rd": [
            [
                "tune_roll_rd",
                "tune_yaw_rd",
                "tune_pitch_rd"
            ],
            0
        ],
        "tune_accel": [
            [
                "tune_roll_accel",
                "tune_yaw_accel",
                "tune_pitch_accel"
            ],
            0
        ],
        "tune_rp": [
            [
                "tune_roll_rp",
                "tune_yaw_rp",
                "tune_pitch_rp"
            ],
            0
        ]
    },
    "backup_gains_and_initialise": {
        "orig_roll_smax": [
            [
                "attitude_control_get_rate_roll_pid_slew_limit"
            ],
            0
        ],
        "orig_yaw_accel": [
            [
                "attitude_control_get_accel_yaw_max_cdss"
            ],
            0
        ],
        "orig_roll_accel": [
            [
                "attitude_control_get_accel_roll_max_cdss"
            ],
            0
        ],
        "orig_pitch_sp": [
            [
                "attitude_control_get_angle_pitch_p_k_p"
            ],
            0
        ],
        "orig_pitch_rd": [
            [
                "attitude_control_get_rate_pitch_pid_k_d"
            ],
            0
        ],
        "tune_yaw_rp": [
            [
                "attitude_control_get_rate_yaw_pid_k_p"
            ],
            0
        ],
        "orig_roll_rate": [
            [
                "attitude_control_get_ang_vel_roll_max_degs"
            ],
            0
        ],
        "orig_roll_rd": [
            [
                "attitude_control_get_rate_roll_pid_k_d"
            ],
            0
        ],
        "tune_yaw_sp": [
            [
                "attitude_control_get_angle_yaw_p_k_p"
            ],
            0
        ],
        "tune_pitch_accel": [
            [
                "attitude_control_get_accel_pitch_max_cdss"
            ],
            0
        ],
        "orig_pitch_fltt": [
            [
                "attitude_control_get_rate_pitch_pid_filt_t_hz"
            ],
            0
        ],
        "orig_roll_rp": [
            [
                "attitude_control_get_rate_roll_pid_k_p"
            ],
            0
        ],
        "orig_yaw_rp": [
            [
                "attitude_control_get_rate_yaw_pid_k_p"
            ],
            0
        ],
        "tune_pitch_rd": [
            [
                "attitude_control_get_rate_pitch_pid_k_d"
            ],
            0
        ],
        "orig_bf_feedforward": [
            [
                "attitude_control_get_bf_feedforward"
            ],
            0
        ],
        "orig_yaw_ri": [
            [
                "attitude_control_get_rate_yaw_pid_k_i"
            ],
            0
        ],
        "tune_yaw_rff": [
            [
                "attitude_control_get_rate_yaw_pid_ff"
            ],
            0
        ],
        "orig_pitch_accel": [
            [
                "attitude_control_get_accel_pitch_max_cdss"
            ],
            0
        ],
        "orig_yaw_rLPF": [
            [
                "attitude_control_get_rate_yaw_pid_filt_e_hz"
            ],
            0
        ],
        "orig_pitch_rp": [
            [
                "attitude_control_get_rate_pitch_pid_k_p"
            ],
            0
        ],
        "tune_roll_rff": [
            [
                "attitude_control_get_rate_roll_pid_ff"
            ],
            0
        ],
        "tune_pitch_rff": [
            [
                "attitude_control_get_rate_pitch_pid_ff"
            ],
            0
        ],
        "orig_yaw_fltt": [
            [
                "attitude_control_get_rate_yaw_pid_filt_t_hz"
            ],
            0
        ],
        "orig_roll_sp": [
            [
                "attitude_control_get_angle_roll_p_k_p"
            ],
            0
        ],
        "orig_yaw_rff": [
            [
                "attitude_control_get_rate_yaw_pid_ff"
            ],
            0
        ],
        "tune_roll_rp": [
            [
                "attitude_control_get_rate_roll_pid_k_p"
            ],
            0
        ],
        "tune_pitch_rp": [
            [
                "attitude_control_get_rate_pitch_pid_k_p"
            ],
            0
        ],
        "orig_yaw_sp": [
            [
                "attitude_control_get_angle_yaw_p_k_p"
            ],
            0
        ],
        "orig_roll_ri": [
            [
                "attitude_control_get_rate_roll_pid_k_i"
            ],
            0
        ],
        "orig_yaw_rate": [
            [
                "attitude_control_get_ang_vel_yaw_max_degs"
            ],
            0
        ],
        "tune_yaw_accel": [
            [
                "attitude_control_get_accel_yaw_max_cdss"
            ],
            0
        ],
        "tune_roll_sp": [
            [
                "attitude_control_get_angle_roll_p_k_p"
            ],
            0
        ],
        "tune_roll_accel": [
            [
                "attitude_control_get_accel_roll_max_cdss"
            ],
            0
        ],
        "orig_pitch_rate": [
            [
                "attitude_control_get_ang_vel_pitch_max_degs"
            ],
            0
        ],
        "orig_roll_fltt": [
            [
                "attitude_control_get_rate_roll_pid_filt_t_hz"
            ],
            0
        ],
        "tune_yaw_rLPF": [
            [
                "attitude_control_get_rate_yaw_pid_filt_e_hz"
            ],
            0
        ],
        "orig_roll_rff": [
            [
                "attitude_control_get_rate_roll_pid_ff"
            ],
            0
        ],
        "orig_pitch_rff": [
            [
                "attitude_control_get_rate_pitch_pid_ff"
            ],
            0
        ],
        "orig_pitch_ri": [
            [
                "attitude_control_get_rate_pitch_pid_k_i"
            ],
            0
        ],
        "tune_pitch_sp": [
            [
                "attitude_control_get_angle_pitch_p_k_p"
            ],
            0
        ],
        "orig_yaw_smax": [
            [
                "attitude_control_get_rate_yaw_pid_slew_limit"
            ],
            0
        ],
        "tune_yaw_rd": [
            [
                "attitude_control_get_rate_yaw_pid_k_d"
            ],
            0
        ],
        "tune_roll_rd": [
            [
                "attitude_control_get_rate_roll_pid_k_d"
            ],
            0
        ],
        "orig_yaw_rd": [
            [
                "attitude_control_get_rate_yaw_pid_k_d"
            ],
            0
        ],
        "orig_pitch_smax": [
            [
                "attitude_control_get_rate_pitch_pid_slew_limit"
            ],
            0
        ]
    },
    "load_test_gains": {
        "accel_test_max": [
            [
                "tune_pitch_accel",
                "tune_roll_accel",
                "tune_yaw_accel",
                "accel_max"
            ],
            0
        ],
        "rate_i": [
            [
                "orig_pitch_ri",
                "tune_pitch_rff",
                "tune_yaw_rp",
                "autotune_ffi_ratio_final",
                "orig_yaw_ri",
                "autotune_yaw_pi_ratio_final",
                "orig_roll_ri",
                "tune_roll_rff"
            ],
            0
        ],
        "rate_p": [
            [
                "tune_roll_rp",
                "tune_pitch_rp"
            ],
            0
        ],
        "rate_test_max": [
            [
                "orig_roll_rate",
                "rate_max",
                "orig_pitch_rate",
                "orig_yaw_rate"
            ],
            0
        ],
        "rate_d": [
            [
                "tune_pitch_rd",
                "tune_roll_rd"
            ],
            0
        ]
    },
    "save_tuning_gains": {
        "orig_yaw_accel": [
            [
                "attitude_control_get_accel_yaw_max_cdss"
            ],
            0
        ],
        "orig_pitch_sp": [
            [
                "attitude_control_get_angle_pitch_p_k_p"
            ],
            0
        ],
        "orig_roll_ri": [
            [
                "attitude_control_get_rate_roll_pid_k_i"
            ],
            0
        ],
        "orig_pitch_rd": [
            [
                "attitude_control_get_rate_pitch_pid_k_d"
            ],
            0
        ],
        "orig_roll_accel": [
            [
                "attitude_control_get_accel_roll_max_cdss"
            ],
            0
        ],
        "orig_roll_rd": [
            [
                "attitude_control_get_rate_roll_pid_k_d"
            ],
            0
        ],
        "orig_pitch_accel": [
            [
                "attitude_control_get_accel_pitch_max_cdss"
            ],
            0
        ],
        "orig_yaw_rp": [
            [
                "attitude_control_get_rate_yaw_pid_k_p"
            ],
            0
        ],
        "orig_roll_rp": [
            [
                "attitude_control_get_rate_roll_pid_k_p"
            ],
            0
        ],
        "orig_pitch_rff": [
            [
                "attitude_control_get_rate_pitch_pid_ff"
            ],
            0
        ],
        "orig_pitch_ri": [
            [
                "attitude_control_get_rate_pitch_pid_k_i"
            ],
            0
        ],
        "orig_yaw_ri": [
            [
                "attitude_control_get_rate_yaw_pid_k_i"
            ],
            0
        ],
        "orig_yaw_rd": [
            [
                "attitude_control_get_rate_yaw_pid_k_d"
            ],
            0
        ],
        "orig_pitch_rp": [
            [
                "attitude_control_get_rate_pitch_pid_k_p"
            ],
            0
        ],
        "orig_yaw_rff": [
            [
                "attitude_control_get_rate_yaw_pid_ff"
            ],
            0
        ],
        "orig_yaw_rLPF": [
            [
                "attitude_control_get_rate_yaw_pid_filt_e_hz"
            ],
            0
        ],
        "orig_yaw_sp": [
            [
                "attitude_control_get_angle_yaw_p_k_p"
            ],
            0
        ],
        "orig_roll_sp": [
            [
                "attitude_control_get_angle_roll_p_k_p"
            ],
            0
        ],
        "orig_roll_rff": [
            [
                "attitude_control_get_rate_roll_pid_ff"
            ],
            0
        ]
    },
    "dwell_test_init": {
        "step_time_limit_ms": [
            [
                "uint32_t",
                "sweep_time_ms",
                "num_dwell_cycles",
                "pre_calc_cycles",
                "float",
                "m_2pi",
                "start_frq"
            ],
            0
        ],
        "test_freq_resp_input": [
            [
                "freq_resp_input"
            ],
            0
        ],
        "test_calc_type": [
            [
                "calc_type"
            ],
            0
        ],
        "test_start_freq": [
            [
                "start_frq"
            ],
            0
        ],
        "test_input_type": [
            [
                "waveform_input_type"
            ],
            0
        ],
        "tgt_attitude": [
            [
                "radians_amplitude"
            ],
            0
        ]
    },
    "dwell_test_run": {
        "curr_test_mtr.freq": [
            [
                "freqresp_mtr_get_freq"
            ],
            0
        ],
        "cycle_time_ms": [
            [
                "m_2pi"
            ],
            0
        ],
        "sweep_tgt.ph270": [
            [
                "curr_test_tgt"
            ],
            0
        ],
        "tgt_rate_reading": [
            [
                "radians_target_angle_cd",
                "attitude_control_rate_bf_targets_z",
                "radians_wrap_180_cd",
                "attitude_control_rate_bf_targets_y",
                "attitude_control_get_att_target_euler_cd_z",
                "float",
                "radians_floatattitude_control_get_att_target_euler_cd_z",
                "radians_floatattitude_control_get_att_target_euler_cd_y",
                "radians_floatattitude_control_get_att_target_euler_cd_x",
                "attitude_control_rate_bf_targets_x"
            ],
            1
        ],
        "sweep_mtr.maxgain": [
            [
                "curr_test_mtr"
            ],
            0
        ],
        "curr_test_mtr.gain": [
            [
                "freqresp_mtr_get_gain"
            ],
            0
        ],
        "command_reading": [
            [
                "motors_get_yaw",
                "motors_get_roll",
                "motors_get_pitch"
            ],
            0
        ],
        "test_data.freq": [
            [
                "test_start_freq"
            ],
            0
        ],
        "curr_test_tgt.gain": [
            [
                "freqresp_tgt_get_gain"
            ],
            0
        ],
        "test_data.gain": [
            [
                "freqresp_tgt_get_gain",
                "freqresp_mtr_get_gain"
            ],
            2
        ],
        "dwell_freq": [
            [
                "test_start_freq",
                "chirp_input_get_frequency_rads"
            ],
            0
        ],
        "curr_test_tgt.phase": [
            [
                "freqresp_tgt_get_phase"
            ],
            0
        ],
        "curr_test": [
            [
                "curr_test_tgt",
                "curr_test_mtr"
            ],
            0
        ],
        "test_data.phase": [
            [
                "freqresp_tgt_get_phase",
                "freqresp_mtr_get_phase"
            ],
            2
        ],
        "step": [
            [
                "update_gains"
            ],
            0
        ],
        "curr_test_mtr.phase": [
            [
                "freqresp_mtr_get_phase"
            ],
            0
        ],
        "sweep_tgt.maxgain": [
            [
                "curr_test_tgt"
            ],
            0
        ],
        "velocity_bf.y": [
            [
                "velocity_ned_y",
                "ahrs_view_sin_yaw",
                "velocity_ned_x",
                "ahrs_view_cos_yaw"
            ],
            0
        ],
        "sweep_tgt.ph180": [
            [
                "curr_test_tgt"
            ],
            0
        ],
        "curr_test_tgt.freq": [
            [
                "freqresp_tgt_get_freq"
            ],
            0
        ],
        "test_calc_type": [
            [
                "freqresp_tgt_get_accel_max",
                "test_accel_max",
                "drb"
            ],
            0
        ],
        "dwell_start_time_ms": [
            [
                "millis"
            ],
            1
        ],
        "sweep_mtr.ph270": [
            [
                "curr_test_mtr"
            ],
            0
        ],
        "gyro_reading": [
            [
                "ahrs_view_yaw_sensor",
                "float",
                "radians_wrap_180_cd",
                "radians_floatahrs_view_roll_sensor",
                "ahrs_view_get_gyro_z",
                "degrees_tgt_attitude",
                "chirp_input_update_dwell_start_time_ms",
                "chirp_input_update_now",
                "radians_floatahrs_view_yaw_sensor",
                "radians_floatahrs_view_pitch_sensor",
                "ahrs_view_get_gyro_y",
                "ahrs_view_get_gyro_x",
                "trim_angle_cd_y",
                "trim_angle_cd_x"
            ],
            2
        ],
        "sweep_mtr.ph180": [
            [
                "curr_test_mtr"
            ],
            0
        ],
        "velocity_bf.x": [
            [
                "velocity_ned_y",
                "ahrs_view_sin_yaw",
                "velocity_ned_x",
                "ahrs_view_cos_yaw"
            ],
            0
        ]
    },
    "updating_angle_p_up_all": {
        "phase_max": [
            [
                "sweep_tgt_maxgain_phase"
            ],
            0
        ],
        "next_test_freq": [
            [
                "min_sweep_freq",
                "max_sweep_freq",
                "sweep_tgt_maxgain_freq"
            ],
            0
        ],
        "sp_prev_gain": [
            [
                "sweep_tgt_maxgain_gain"
            ],
            0
        ]
    },
    "updating_max_gains_all": {
        "max_rate_p.max_allowed": [
            [
                "tune_yaw_rp"
            ],
            0
        ],
        "next_test_freq": [
            [
                "sweep_mtr_ph180_freq",
                "min_sweep_freq",
                "max_sweep_freq"
            ],
            0
        ],
        "max_rate_d.max_allowed": [
            [
                "tune_yaw_rd"
            ],
            0
        ]
    },
    "set_gains_post_tune": {
        "tune_roll_sp": [
            [
                "autotune_sp_min",
                "autotune_sp_backoff"
            ],
            0
        ],
        "tune_yaw_rd": [
            [
                "autotune_rd_backoff"
            ],
            0
        ],
        "tune_yaw_rp": [
            [
                "autotune_rp_backoff",
                "autotune_rp_min"
            ],
            0
        ],
        "tune_yaw_sp": [
            [
                "autotune_sp_min",
                "autotune_sp_backoff"
            ],
            0
        ],
        "tune_pitch_rd": [
            [
                "autotune_rd_backoff"
            ],
            0
        ],
        "tune_pitch_rp": [
            [
                "autotune_rp_backoff"
            ],
            0
        ],
        "tune_pitch_sp": [
            [
                "autotune_sp_min",
                "autotune_sp_backoff"
            ],
            0
        ],
        "tune_roll_rd": [
            [
                "autotune_rd_backoff"
            ],
            0
        ],
        "tune_roll_rp": [
            [
                "autotune_rp_backoff"
            ],
            0
        ]
    },
    "updating_rate_ff_up": {
        "counter": [
            [
                "autotune_success_count"
            ],
            0
        ],
        "tune_ff": [
            [
                "test_data_gain",
                "tune_tgt"
            ],
            0
        ],
        "next_freq": [
            [
                "test_data_freq"
            ],
            0
        ]
    },
    "updating_rate_p_up": {
        "tune_p": [
            [
                "max_gain_p_max_allowed"
            ],
            0
        ],
        "next_freq": [
            [
                "data_at_ph161_freq",
                "sugg_freq",
                "test_data_freq"
            ],
            0
        ],
        "counter": [
            [
                "autotune_success_count"
            ],
            0
        ],
        "test_freq_incr": [
            [
                "m_2pi"
            ],
            0
        ]
    },
    "updating_rate_d_up": {
        "test_freq_incr": [
            [
                "m_2pi"
            ],
            0
        ],
        "counter": [
            [
                "autotune_success_count"
            ],
            0
        ],
        "next_freq": [
            [
                "test_data_freq",
                "sugg_freq",
                "data_at_ph161_freq"
            ],
            0
        ],
        "rd_prev_gain": [
            [
                "data_at_ph161_gain"
            ],
            0
        ],
        "tune_d": [
            [
                "max_gain_d_max_allowed"
            ],
            0
        ]
    },
    "updating_angle_p_up": {
        "counter": [
            [
                "autotune_success_count"
            ],
            0
        ],
        "tune_p": [
            [
                "test_data_gain",
                "test_data_gain",
                "max_resp_gain",
                "gain_incr",
                "autotune_sp_max",
                "autotune_sp_min"
            ],
            2
        ],
        "test_data.freq": [
            [
                "test_data_freq"
            ],
            1
        ],
        "phase_max": [
            [
                "test_data_phase"
            ],
            0
        ],
        "next_freq": [
            [
                "test_data_freq",
                "m_2pi",
                "test_data_freq"
            ],
            2
        ]
    },
    "updating_max_gains": {
        "next_freq": [
            [
                "test_data_freq",
                "sweep_mtr_ph270_freq",
                "sugg_freq",
                "data_at_phase_freq"
            ],
            0
        ],
        "test_freq_incr": [
            [
                "m_2pi"
            ],
            0
        ],
        "max_gain_p.gain": [
            [
                "data_at_phase_gain"
            ],
            0
        ],
        "max_gain_d.max_allowed": [
            [
                "autotune_rd_max",
                "powf_log10f",
                "powf_max_gain_d_freq",
                "powf_max_gain_d_gain",
                "max_gain_d_max_allowed"
            ],
            0
        ],
        "max_gain_p.max_allowed": [
            [
                "max_gain_p_max_allowed",
                "autotune_rp_max",
                "powf_log10f",
                "powf_max_gain_p_gain"
            ],
            0
        ],
        "max_gain_d.gain": [
            [
                "data_at_phase_gain"
            ],
            0
        ],
        "max_gain_p.freq": [
            [
                "data_at_phase_freq"
            ],
            0
        ],
        "max_gain_p.phase": [
            [
                "data_at_phase_phase"
            ],
            0
        ],
        "max_gain_d.freq": [
            [
                "data_at_phase_freq"
            ],
            0
        ],
        "max_gain_d.phase": [
            [
                "data_at_phase_phase"
            ],
            0
        ],
        "counter": [
            [
                "autotune_success_count"
            ],
            0
        ]
    },
    "freq_search_for_phase": {
        "est_data.phase": [
            [
                "desired_phase"
            ],
            0
        ],
        "est_data.freq": [
            [
                "linear_interpolate_test_freq",
                "linear_interpolate_test_phase",
                "linear_interpolate_prev_test_phase",
                "linear_interpolate_prev_test_freq",
                "linear_interpolate_desired_phase"
            ],
            0
        ],
        "prev_test": [
            [
                "test"
            ],
            0
        ],
        "new_freq": [
            [
                "freq_incr",
                "test_freq"
            ],
            0
        ],
        "est_data.gain": [
            [
                "linear_interpolate_test_phase",
                "linear_interpolate_test_gain",
                "linear_interpolate_prev_test_gain",
                "linear_interpolate_prev_test_phase",
                "linear_interpolate_desired_phase"
            ],
            0
        ],
        "freq_delta": [
            [
                "fabsf_test_freq",
                "fabsf_prev_test_freq"
            ],
            0
        ]
    }
}